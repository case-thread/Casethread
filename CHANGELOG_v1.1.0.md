# CaseThread v1.1.0 Changelog (Generated by AI)

## Version 1.1.0 - October 19, 2025

### Fixed Issues

#### 1. Settings Page Title
**Issue**: The settings page HTML title displayed "Judgment Analyzer Settings" instead of the product name.

**Fix**: Updated `settings.html` title tag from "Judgment Analyzer Settings" to "CaseThread Settings"

**Impact**: Browser tab now displays "CaseThread Settings" consistently with the product branding.

#### 2. Hong Kong Citation Format - Official Judiciary Rules Compliance
**Issue**: The AI was not following Hong Kong judiciary's official citation rules. It was either omitting the year in brackets or incorrectly including both action number and neutral citation.

**Fix**: Completely revised AI prompts in `background.js` (4 locations) to comply with official HK judiciary guidelines:
- **Key Rule**: Since 1 January 2018, ALL Hong Kong judgments have neutral citations
- **Critical Change**: When a neutral citation exists, provide ONLY the neutral citation - do NOT include the action number
- Example: For a case with action number "FACV Nos. 3 and 5 of 2019" and neutral citation "[2020] HKCFA 32", output ONLY: "[2020] HKCFA 32"
- Added explicit instruction: "The neutral citation MUST include the year in square brackets like '[2020]' - NEVER output just 'HKCFA 32'"
- Only use action number format (e.g., "HCA 537/2014") if there is NO neutral citation (pre-2018 cases)

**Impact**: Citations for Hong Kong cases now comply with the Hong Kong judiciary's official citation requirements. Based on official guidance: "When citing a judgment with a neutral citation, the neutral citation must be given."

#### 3. Copyright Text Preservation
**Issue**: HTML text was being cleaned up before summarization, including removal of copyright notices.

**Fix**: Removed copyright notice cleanup pattern from `content.js`:
- Deleted line: `copyrightNotice: /Â©.*$/gim,`
- Copyright notices will now be preserved in the extracted text for AI analysis

**Impact**: Copyright information will remain in the judgment text.

#### 4. Generic AI Model Reference
**Issue**: Initial homepage text specifically mentioned "Gemini AI models" when the tool actually supports multiple AI models.

**Fix**: Updated `popup.html` to use generic language:
- Changed: "You'll need to set up your own API key to use Gemini AI models"
- To: "You'll need to set up your own API key to use AI models"

**Impact**: More accurate messaging that reflects the tool's multi-model support (Gemini and Grok).

### Version Updates

- Updated `manifest.json`: version changed from "1.0.0" to "1.1.0"
- Updated `popup.html`: version badge changed from "Beta v1.5.0" to "v1.1.0"
- Removed all "beta" references: 
  - Renamed CSS class from "beta-badge" to "version-badge"
  - Removed "Beta " prefix from JavaScript version display (popup.js)

### Files Modified

1. `manifest.json` - Version number updated
2. `content.js` - Removed copyright cleanup pattern
3. `popup.html` - Updated version badge, generic AI model text, and renamed CSS class from "beta-badge" to "version-badge"
4. `popup.css` - Renamed CSS class from "beta-badge" to "version-badge"
5. `popup.js` - Removed "Beta " prefix from dynamically set version badge text
6. `background.js` - Enhanced Hong Kong citation format instructions (4 locations in AI prompts)
7. `settings.html` - Updated page title to "CaseThread Settings"


